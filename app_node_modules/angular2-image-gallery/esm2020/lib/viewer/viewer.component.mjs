import { ImageService } from '../services/image.service';
import { Component, Input } from '@angular/core';
import { animate, state, style, transition, trigger } from '@angular/animations';
import { DomSanitizer } from '@angular/platform-browser';
import * as i0 from "@angular/core";
import * as i1 from "../services/image.service";
import * as i2 from "@angular/platform-browser";
import * as i3 from "@angular/common";
export class ViewerComponent {
    constructor(imageService, sanitizer) {
        this.imageService = imageService;
        this.sanitizer = sanitizer;
        this.images = [];
        this.currentIdx = 0;
        this.leftArrowVisible = true;
        this.rightArrowVisible = true;
        this.categorySelected = 'preview_xxs';
        this.qualitySelectorShown = false;
        this.qualitySelected = 'auto';
        this.baseImagesURL = '';
        imageService.imagesUpdated$.subscribe((images) => {
            this.images = images;
        });
        imageService.imageSelectedIndexUpdated$.subscribe((newIndex) => {
            this.currentIdx = newIndex;
            this.images.forEach((image) => (image['active'] = false));
            this.images[this.currentIdx]['active'] = true;
            this.transform = 0;
            this.updateQuality();
        });
        imageService.showImageViewerChanged$.subscribe((showViewer) => {
            this.showViewer = showViewer;
        });
        this.math = Math;
    }
    get leftArrowActive() {
        return this.currentIdx > 0;
    }
    get rightArrowActive() {
        return this.currentIdx < this.images.length - 1;
    }
    pan(swipe) {
        this.transform = swipe.deltaX;
    }
    onResize() {
        this.images.forEach((image) => {
            image['viewerImageLoaded'] = false;
            image['active'] = false;
        });
        this.updateImage();
    }
    showQualitySelector() {
        this.qualitySelectorShown = !this.qualitySelectorShown;
    }
    qualityChanged(newQuality) {
        this.qualitySelected = newQuality;
        this.updateImage();
    }
    imageLoaded(image) {
        image['viewerImageLoaded'] = true;
    }
    /**
     * direction (-1: left, 1: right)
     * swipe (user swiped)
     */
    navigate(direction, swipe) {
        if ((direction === 1 && this.currentIdx < this.images.length - 1) || (direction === -1 && this.currentIdx > 0)) {
            if (direction == -1) {
                this.images[this.currentIdx]['transition'] = 'leaveToRight';
                this.images[this.currentIdx - 1]['transition'] = 'enterFromLeft';
            }
            else {
                this.images[this.currentIdx]['transition'] = 'leaveToLeft';
                this.images[this.currentIdx + 1]['transition'] = 'enterFromRight';
            }
            this.currentIdx += direction;
            if (swipe) {
                this.hideNavigationArrows();
            }
            else {
                this.showNavigationArrows();
            }
            this.updateImage();
        }
    }
    showNavigationArrows() {
        this.leftArrowVisible = true;
        this.rightArrowVisible = true;
    }
    closeViewer() {
        this.images.forEach((image) => (image['transition'] = undefined));
        this.images.forEach((image) => (image['active'] = false));
        this.imageService.showImageViewer(false);
    }
    onKeydown(event) {
        const prevent = [37, 39, 27, 36, 35].find((no) => no === event.keyCode);
        if (prevent) {
            event.preventDefault();
        }
        switch (prevent) {
            case 37:
                // navigate left
                this.navigate(-1, false);
                break;
            case 39:
                // navigate right
                this.navigate(1, false);
                break;
            case 27:
                // esc
                this.closeViewer();
                break;
            case 36:
                // pos 1
                this.images[this.currentIdx]['transition'] = 'leaveToRight';
                this.currentIdx = 0;
                this.images[this.currentIdx]['transition'] = 'enterFromLeft';
                this.updateImage();
                break;
            case 35:
                // end
                this.images[this.currentIdx]['transition'] = 'leaveToLeft';
                this.currentIdx = this.images.length - 1;
                this.images[this.currentIdx]['transition'] = 'enterFromRight';
                this.updateImage();
                break;
            default:
                break;
        }
    }
    sanitizedImageUrl(img, index) {
        return this.sanitizer.bypassSecurityTrustStyle(this.rawImageUrl(img, index));
    }
    rawImageUrl(img, index) {
        if (img['viewerImageLoaded']) {
            return `url('${this.baseImagesURL}${img.resolutions[this.categorySelected].path}')`;
        }
        else if (Math.abs(this.currentIdx - index) <= 1) {
            return `url('${this.baseImagesURL}${img.resolutions['preview_xxs'].path}')`;
        }
        return '';
    }
    hideNavigationArrows() {
        this.leftArrowVisible = false;
        this.rightArrowVisible = false;
    }
    updateImage() {
        // wait for animation to end
        setTimeout(() => {
            this.updateQuality();
            this.images[this.currentIdx]['active'] = true;
            this.images.forEach((image) => {
                if (image != this.images[this.currentIdx]) {
                    image['active'] = false;
                    this.transform = 0;
                }
            });
        }, 500);
    }
    updateQuality() {
        const screenWidth = window.innerWidth;
        const screenHeight = window.innerHeight;
        switch (this.qualitySelected) {
            case 'auto': {
                this.categorySelected = 'preview_xxs';
                if (screenWidth > this.images[this.currentIdx].resolutions['preview_xxs'].width &&
                    screenHeight > this.images[this.currentIdx].resolutions['preview_xxs'].height) {
                    this.categorySelected = 'preview_xs';
                }
                if (screenWidth > this.images[this.currentIdx].resolutions['preview_xs'].width &&
                    screenHeight > this.images[this.currentIdx].resolutions['preview_xs'].height) {
                    this.categorySelected = 'preview_s';
                }
                if (screenWidth > this.images[this.currentIdx].resolutions['preview_s'].width &&
                    screenHeight > this.images[this.currentIdx].resolutions['preview_s'].height) {
                    this.categorySelected = 'preview_m';
                }
                if (screenWidth > this.images[this.currentIdx].resolutions['preview_m'].width &&
                    screenHeight > this.images[this.currentIdx].resolutions['preview_m'].height) {
                    this.categorySelected = 'preview_l';
                }
                if (screenWidth > this.images[this.currentIdx].resolutions['preview_l'].width &&
                    screenHeight > this.images[this.currentIdx].resolutions['preview_l'].height) {
                    this.categorySelected = 'preview_xl';
                }
                if (screenWidth > this.images[this.currentIdx].resolutions['preview_xl'].width &&
                    screenHeight > this.images[this.currentIdx].resolutions['preview_xl'].height) {
                    this.categorySelected = 'raw';
                }
                break;
            }
            case 'low': {
                this.categorySelected = 'preview_xxs';
                break;
            }
            case 'mid': {
                this.categorySelected = 'preview_m';
                break;
            }
            case 'high': {
                this.categorySelected = 'raw';
                break;
            }
            default: {
                this.categorySelected = 'preview_m';
            }
        }
    }
}
ViewerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.1.1", ngImport: i0, type: ViewerComponent, deps: [{ token: i1.ImageService }, { token: i2.DomSanitizer }], target: i0.ɵɵFactoryTarget.Component });
ViewerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.1.1", type: ViewerComponent, selector: "viewer", inputs: { baseImagesURL: "baseImagesURL" }, host: { listeners: { "document:keydown": "onKeydown($event)" } }, ngImport: i0, template: "<div\r\n  class=\"outerContainer\"\r\n  (window:resize)=\"onResize()\"\r\n  *ngIf=\"showViewer\"\r\n  [@showViewerTransition]=\"showViewer\">\r\n  <img\r\n    [ngClass]=\"{ activeArrow: leftArrowActive }\"\r\n    class=\"arrow left\"\r\n    src=\"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0cHgiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZS8+PGRlc2MvPiAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgaWQ9Im1pdSIgc3Ryb2tlPSIjNTU1IiBzdHJva2Utd2lkdGg9IjAuMiI+ICAgICA8ZyBpZD0iQXJ0Ym9hcmQtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM5NS4wMDAwMDAsIC0xOTEuMDAwMDAwKSI+PGcgaWQ9InNsaWNlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTUuMDAwMDAwLCAxMTkuMDAwMDAwKSIvPjxwYXRoICAgICAgIGQ9Ik0zOTYsMjAyLjUgQzM5NiwxOTYuMTQ4NzI1IDQwMS4xNDg3MjUsMTkxIDQwNy41LDE5MSBDNDEzLjg1MTI3NSwxOTEgNDE5LDE5Ni4xNDg3MjUgNDE5LDIwMi41IEM0MTksMjA4Ljg1MTI3NSA0MTMuODUxMjc1LDIxNCA0MDcuNSwyMTQgQzQwMS4xNDg3MjUsMjE0IDM5NiwyMDguODUxMjc1IDM5NiwyMDIuNSBaIE00MDguNjU2ODU0LDE5Ni44NDMxNDYgTDQxMC4wNzEwNjgsMTk4LjI1NzM1OSBMNDA1LjgyODQyNywyMDIuNSBMNDEwLjA3MTA2OCwyMDYuNzQyNjQxIEw0MDguNjU2ODU0LDIwOC4xNTY4NTQgTDQwMywyMDIuNSBMNDA4LjY1Njg1NCwxOTYuODQzMTQ2IFoiICAgICAgIGZpbGw9IiNhYWEiICAgICAgIGlkPSJjaXJjbGUtYmFjay1hcnJvdy1nbHlwaCIvPjwvZz4gICA8L2c+IDwvc3ZnPg==\"\r\n    [hidden]=\"!leftArrowVisible\"\r\n    (click)=\"navigate(-1, false)\" />\r\n  <img\r\n    [ngClass]=\"{ activeArrow: rightArrowActive }\"\r\n    class=\"arrow right\"\r\n    src=\"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0cHgiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZS8+PGRlc2MvPjxkZWZzLz4gICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGlkPSJtaXUiIHN0cm9rZT0iIzU1NSIgc3Ryb2tlLXdpZHRoPSIwLjIiPiAgICAgPGcgaWQ9IkFydGJvYXJkLTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00NjcuMDAwMDAwLCAtMTkxLjAwMDAwMCkiPjxnIGlkPSJzbGljZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjE1LjAwMDAwMCwgMTE5LjAwMDAwMCkiLz48cGF0aCAgICAgICBkPSJNNDY4LDIwMi41IEM0NjgsMTk2LjE0ODcyNSA0NzMuMTQ4NzI1LDE5MSA0NzkuNSwxOTEgQzQ4NS44NTEyNzUsMTkxIDQ5MSwxOTYuMTQ4NzI1IDQ5MSwyMDIuNSBDNDkxLDIwOC44NTEyNzUgNDg1Ljg1MTI3NSwyMTQgNDc5LjUsMjE0IEM0NzMuMTQ4NzI1LDIxNCA0NjgsMjA4Ljg1MTI3NSA0NjgsMjAyLjUgWiBNNDgwLjY1Njg1NCwxOTYuODQzMTQ2IEw0ODIuMDcxMDY4LDE5OC4yNTczNTkgTDQ3Ny44Mjg0MjcsMjAyLjUgTDQ4Mi4wNzEwNjgsMjA2Ljc0MjY0MSBMNDgwLjY1Njg1NCwyMDguMTU2ODU0IEw0NzUsMjAyLjUgTDQ4MC42NTY4NTQsMTk2Ljg0MzE0NiBaIiAgICAgICBmaWxsPSIjYWFhIiAgICAgICBpZD0iY2lyY2xlLW5leHQtYXJyb3ctZGlzY2xvc3VyZS1nbHlwaCIgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDc5LjUwMDAwMCwgMjAyLjUwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtNDc5LjUwMDAwMCwgLTIwMi41MDAwMDApICIvPjwvZz4gICA8L2c+IDwvc3ZnPg==\"\r\n    [hidden]=\"!rightArrowVisible\"\r\n    (click)=\"navigate(1, false)\" />\r\n\r\n  <div class=\"buttonContainer\">\r\n    <img\r\n      class=\"action close\"\r\n      src=\"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjMwcHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiBmaWxsPSIjYWFhIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjI0cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgPHBhdGggICAgc3Ryb2tlLXdpZHRoPSIzMCIgc3Ryb2tlPSIjNDQ0IiAgICBkPSJNNDM3LjUsMzg2LjZMMzA2LjksMjU2bDEzMC42LTEzMC42YzE0LjEtMTQuMSwxNC4xLTM2LjgsMC01MC45Yy0xNC4xLTE0LjEtMzYuOC0xNC4xLTUwLjksMEwyNTYsMjA1LjFMMTI1LjQsNzQuNSAgYy0xNC4xLTE0LjEtMzYuOC0xNC4xLTUwLjksMGMtMTQuMSwxNC4xLTE0LjEsMzYuOCwwLDUwLjlMMjA1LjEsMjU2TDc0LjUsMzg2LjZjLTE0LjEsMTQuMS0xNC4xLDM2LjgsMCw1MC45ICBjMTQuMSwxNC4xLDM2LjgsMTQuMSw1MC45LDBMMjU2LDMwNi45bDEzMC42LDEzMC42YzE0LjEsMTQuMSwzNi44LDE0LjEsNTAuOSwwQzQ1MS41LDQyMy40LDQ1MS41LDQwMC42LDQzNy41LDM4Ni42eiIvPjwvc3ZnPg==\"\r\n      (click)=\"closeViewer()\" />\r\n  </div>\r\n\r\n  <div\r\n    class=\"imageContainer\"\r\n    (click)=\"showNavigationArrows()\"\r\n    (swipeleft)=\"navigate(1, $event)\"\r\n    (swiperight)=\"navigate(-1, $event)\"\r\n    (pan)=\"pan($event)\">\r\n    <div\r\n      *ngFor=\"let img of images; let j = index\"\r\n      class=\"image\"\r\n      [class.active]=\"img['active']\"\r\n      [style.background-image]=\"sanitizedImageUrl(img, j)\"\r\n      [style.left]=\"transform + 'px'\"\r\n      [@imageTransition]=\"img['transition']\"></div>\r\n\r\n    <img\r\n      *ngFor=\"let img of images; let j = index\"\r\n      class=\"preloading-image\"\r\n      (load)=\"imageLoaded(img)\"\r\n      src=\"{{ math.abs(currentIdx - j) <= 1 ? img['resolutions'][categorySelected]['path'] : '' }}\" />\r\n  </div>\r\n</div>\r\n", styles: [".outerContainer{inset:0;height:100%;width:100%;position:fixed;background-color:#000000f2;font-family:sans-serif;z-index:1031}.imageContainer{position:absolute;float:none;inset:0}.imageContainer .image,.imageContainer .preloading-image{visibility:hidden}.imageContainer .image.active{position:absolute;visibility:visible;background-repeat:no-repeat;background-size:contain;background-position:center;margin:auto;inset:0;height:100%;width:100%;opacity:1}.arrow{opacity:0}.arrow:hover{cursor:pointer}.outerContainer:hover .arrow.activeArrow{height:calc(20px + 1.5vw);position:absolute;top:calc(50% - ((20px + 1.5vw)/2));bottom:50%;z-index:1;opacity:1;transition:all ease-out .5s}.arrow.left{left:2vw}.arrow.right{right:2vw}.arrow:not(.activeArrow):hover{opacity:0;cursor:pointer;transition:all ease-out .5s}.buttonContainer{position:absolute;top:20px;right:20px;height:20px;text-align:center;opacity:1;z-index:200;transition:all ease-out .5s}.buttonContainer .action{height:100%;cursor:pointer;vertical-align:top}.buttonContainer .action:focus{outline:0}.buttonContainer .action:hover{background-color:#222;transition:all ease-out .3s}.buttonContainer .action.close{width:26px;height:26px}md-button-toggle.checked{background-color:#a0a0a0}.menuButton{position:absolute;bottom:20px;right:20px;text-align:center;opacity:1;z-index:200;transition:all ease-out .5s}@font-face{font-family:Material Icons;font-style:normal;font-weight:400;src:local(\"Material Icons\"),local(\"MaterialIcons-Regular\"),url(https://fonts.gstatic.com/s/materialicons/v19/2fcrYFNaTjcS6g4U3t-Y5ZjZjT5FdEJ140U2DJYC3mY.woff2) format(\"woff2\")}.material-icons{font-family:Material Icons;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:\"liga\";-webkit-font-smoothing:antialiased}\n"], dependencies: [{ kind: "directive", type: i3.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i3.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }], animations: [
        trigger('imageTransition', [
            state('enterFromRight', style({
                opacity: 1,
                transform: 'translate(0px, 0px)',
            })),
            state('enterFromLeft', style({
                opacity: 1,
                transform: 'translate(0px, 0px)',
            })),
            state('leaveToLeft', style({
                opacity: 0,
                transform: 'translate(-100px, 0px)',
            })),
            state('leaveToRight', style({
                opacity: 0,
                transform: 'translate(100px, 0px)',
            })),
            transition('* => enterFromRight', [
                style({
                    opacity: 0,
                    transform: 'translate(30px, 0px)',
                }),
                animate('250ms 500ms ease-in'),
            ]),
            transition('* => enterFromLeft', [
                style({
                    opacity: 0,
                    transform: 'translate(-30px, 0px)',
                }),
                animate('250ms 500ms ease-in'),
            ]),
            transition('* => leaveToLeft', [
                style({
                    opacity: 1,
                }),
                animate('250ms ease-out'),
            ]),
            transition('* => leaveToRight', [
                style({
                    opacity: 1,
                }),
                animate('250ms ease-out'),
            ]),
        ]),
        trigger('showViewerTransition', [
            state('true', style({
                opacity: 1,
            })),
            state('void', style({
                opacity: 0,
            })),
            transition('void => *', [
                style({
                    opacity: 0,
                }),
                animate('1000ms ease-in'),
            ]),
            transition('* => void', [
                style({
                    opacity: 1,
                }),
                animate('500ms ease-out'),
            ]),
        ]),
    ] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.1.1", ngImport: i0, type: ViewerComponent, decorators: [{
            type: Component,
            args: [{ selector: 'viewer', host: {
                        '(document:keydown)': 'onKeydown($event)',
                    }, animations: [
                        trigger('imageTransition', [
                            state('enterFromRight', style({
                                opacity: 1,
                                transform: 'translate(0px, 0px)',
                            })),
                            state('enterFromLeft', style({
                                opacity: 1,
                                transform: 'translate(0px, 0px)',
                            })),
                            state('leaveToLeft', style({
                                opacity: 0,
                                transform: 'translate(-100px, 0px)',
                            })),
                            state('leaveToRight', style({
                                opacity: 0,
                                transform: 'translate(100px, 0px)',
                            })),
                            transition('* => enterFromRight', [
                                style({
                                    opacity: 0,
                                    transform: 'translate(30px, 0px)',
                                }),
                                animate('250ms 500ms ease-in'),
                            ]),
                            transition('* => enterFromLeft', [
                                style({
                                    opacity: 0,
                                    transform: 'translate(-30px, 0px)',
                                }),
                                animate('250ms 500ms ease-in'),
                            ]),
                            transition('* => leaveToLeft', [
                                style({
                                    opacity: 1,
                                }),
                                animate('250ms ease-out'),
                            ]),
                            transition('* => leaveToRight', [
                                style({
                                    opacity: 1,
                                }),
                                animate('250ms ease-out'),
                            ]),
                        ]),
                        trigger('showViewerTransition', [
                            state('true', style({
                                opacity: 1,
                            })),
                            state('void', style({
                                opacity: 0,
                            })),
                            transition('void => *', [
                                style({
                                    opacity: 0,
                                }),
                                animate('1000ms ease-in'),
                            ]),
                            transition('* => void', [
                                style({
                                    opacity: 1,
                                }),
                                animate('500ms ease-out'),
                            ]),
                        ]),
                    ], template: "<div\r\n  class=\"outerContainer\"\r\n  (window:resize)=\"onResize()\"\r\n  *ngIf=\"showViewer\"\r\n  [@showViewerTransition]=\"showViewer\">\r\n  <img\r\n    [ngClass]=\"{ activeArrow: leftArrowActive }\"\r\n    class=\"arrow left\"\r\n    src=\"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0cHgiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZS8+PGRlc2MvPiAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgaWQ9Im1pdSIgc3Ryb2tlPSIjNTU1IiBzdHJva2Utd2lkdGg9IjAuMiI+ICAgICA8ZyBpZD0iQXJ0Ym9hcmQtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM5NS4wMDAwMDAsIC0xOTEuMDAwMDAwKSI+PGcgaWQ9InNsaWNlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTUuMDAwMDAwLCAxMTkuMDAwMDAwKSIvPjxwYXRoICAgICAgIGQ9Ik0zOTYsMjAyLjUgQzM5NiwxOTYuMTQ4NzI1IDQwMS4xNDg3MjUsMTkxIDQwNy41LDE5MSBDNDEzLjg1MTI3NSwxOTEgNDE5LDE5Ni4xNDg3MjUgNDE5LDIwMi41IEM0MTksMjA4Ljg1MTI3NSA0MTMuODUxMjc1LDIxNCA0MDcuNSwyMTQgQzQwMS4xNDg3MjUsMjE0IDM5NiwyMDguODUxMjc1IDM5NiwyMDIuNSBaIE00MDguNjU2ODU0LDE5Ni44NDMxNDYgTDQxMC4wNzEwNjgsMTk4LjI1NzM1OSBMNDA1LjgyODQyNywyMDIuNSBMNDEwLjA3MTA2OCwyMDYuNzQyNjQxIEw0MDguNjU2ODU0LDIwOC4xNTY4NTQgTDQwMywyMDIuNSBMNDA4LjY1Njg1NCwxOTYuODQzMTQ2IFoiICAgICAgIGZpbGw9IiNhYWEiICAgICAgIGlkPSJjaXJjbGUtYmFjay1hcnJvdy1nbHlwaCIvPjwvZz4gICA8L2c+IDwvc3ZnPg==\"\r\n    [hidden]=\"!leftArrowVisible\"\r\n    (click)=\"navigate(-1, false)\" />\r\n  <img\r\n    [ngClass]=\"{ activeArrow: rightArrowActive }\"\r\n    class=\"arrow right\"\r\n    src=\"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0cHgiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZS8+PGRlc2MvPjxkZWZzLz4gICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGlkPSJtaXUiIHN0cm9rZT0iIzU1NSIgc3Ryb2tlLXdpZHRoPSIwLjIiPiAgICAgPGcgaWQ9IkFydGJvYXJkLTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00NjcuMDAwMDAwLCAtMTkxLjAwMDAwMCkiPjxnIGlkPSJzbGljZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjE1LjAwMDAwMCwgMTE5LjAwMDAwMCkiLz48cGF0aCAgICAgICBkPSJNNDY4LDIwMi41IEM0NjgsMTk2LjE0ODcyNSA0NzMuMTQ4NzI1LDE5MSA0NzkuNSwxOTEgQzQ4NS44NTEyNzUsMTkxIDQ5MSwxOTYuMTQ4NzI1IDQ5MSwyMDIuNSBDNDkxLDIwOC44NTEyNzUgNDg1Ljg1MTI3NSwyMTQgNDc5LjUsMjE0IEM0NzMuMTQ4NzI1LDIxNCA0NjgsMjA4Ljg1MTI3NSA0NjgsMjAyLjUgWiBNNDgwLjY1Njg1NCwxOTYuODQzMTQ2IEw0ODIuMDcxMDY4LDE5OC4yNTczNTkgTDQ3Ny44Mjg0MjcsMjAyLjUgTDQ4Mi4wNzEwNjgsMjA2Ljc0MjY0MSBMNDgwLjY1Njg1NCwyMDguMTU2ODU0IEw0NzUsMjAyLjUgTDQ4MC42NTY4NTQsMTk2Ljg0MzE0NiBaIiAgICAgICBmaWxsPSIjYWFhIiAgICAgICBpZD0iY2lyY2xlLW5leHQtYXJyb3ctZGlzY2xvc3VyZS1nbHlwaCIgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDc5LjUwMDAwMCwgMjAyLjUwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtNDc5LjUwMDAwMCwgLTIwMi41MDAwMDApICIvPjwvZz4gICA8L2c+IDwvc3ZnPg==\"\r\n    [hidden]=\"!rightArrowVisible\"\r\n    (click)=\"navigate(1, false)\" />\r\n\r\n  <div class=\"buttonContainer\">\r\n    <img\r\n      class=\"action close\"\r\n      src=\"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjMwcHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiBmaWxsPSIjYWFhIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjI0cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgPHBhdGggICAgc3Ryb2tlLXdpZHRoPSIzMCIgc3Ryb2tlPSIjNDQ0IiAgICBkPSJNNDM3LjUsMzg2LjZMMzA2LjksMjU2bDEzMC42LTEzMC42YzE0LjEtMTQuMSwxNC4xLTM2LjgsMC01MC45Yy0xNC4xLTE0LjEtMzYuOC0xNC4xLTUwLjksMEwyNTYsMjA1LjFMMTI1LjQsNzQuNSAgYy0xNC4xLTE0LjEtMzYuOC0xNC4xLTUwLjksMGMtMTQuMSwxNC4xLTE0LjEsMzYuOCwwLDUwLjlMMjA1LjEsMjU2TDc0LjUsMzg2LjZjLTE0LjEsMTQuMS0xNC4xLDM2LjgsMCw1MC45ICBjMTQuMSwxNC4xLDM2LjgsMTQuMSw1MC45LDBMMjU2LDMwNi45bDEzMC42LDEzMC42YzE0LjEsMTQuMSwzNi44LDE0LjEsNTAuOSwwQzQ1MS41LDQyMy40LDQ1MS41LDQwMC42LDQzNy41LDM4Ni42eiIvPjwvc3ZnPg==\"\r\n      (click)=\"closeViewer()\" />\r\n  </div>\r\n\r\n  <div\r\n    class=\"imageContainer\"\r\n    (click)=\"showNavigationArrows()\"\r\n    (swipeleft)=\"navigate(1, $event)\"\r\n    (swiperight)=\"navigate(-1, $event)\"\r\n    (pan)=\"pan($event)\">\r\n    <div\r\n      *ngFor=\"let img of images; let j = index\"\r\n      class=\"image\"\r\n      [class.active]=\"img['active']\"\r\n      [style.background-image]=\"sanitizedImageUrl(img, j)\"\r\n      [style.left]=\"transform + 'px'\"\r\n      [@imageTransition]=\"img['transition']\"></div>\r\n\r\n    <img\r\n      *ngFor=\"let img of images; let j = index\"\r\n      class=\"preloading-image\"\r\n      (load)=\"imageLoaded(img)\"\r\n      src=\"{{ math.abs(currentIdx - j) <= 1 ? img['resolutions'][categorySelected]['path'] : '' }}\" />\r\n  </div>\r\n</div>\r\n", styles: [".outerContainer{inset:0;height:100%;width:100%;position:fixed;background-color:#000000f2;font-family:sans-serif;z-index:1031}.imageContainer{position:absolute;float:none;inset:0}.imageContainer .image,.imageContainer .preloading-image{visibility:hidden}.imageContainer .image.active{position:absolute;visibility:visible;background-repeat:no-repeat;background-size:contain;background-position:center;margin:auto;inset:0;height:100%;width:100%;opacity:1}.arrow{opacity:0}.arrow:hover{cursor:pointer}.outerContainer:hover .arrow.activeArrow{height:calc(20px + 1.5vw);position:absolute;top:calc(50% - ((20px + 1.5vw)/2));bottom:50%;z-index:1;opacity:1;transition:all ease-out .5s}.arrow.left{left:2vw}.arrow.right{right:2vw}.arrow:not(.activeArrow):hover{opacity:0;cursor:pointer;transition:all ease-out .5s}.buttonContainer{position:absolute;top:20px;right:20px;height:20px;text-align:center;opacity:1;z-index:200;transition:all ease-out .5s}.buttonContainer .action{height:100%;cursor:pointer;vertical-align:top}.buttonContainer .action:focus{outline:0}.buttonContainer .action:hover{background-color:#222;transition:all ease-out .3s}.buttonContainer .action.close{width:26px;height:26px}md-button-toggle.checked{background-color:#a0a0a0}.menuButton{position:absolute;bottom:20px;right:20px;text-align:center;opacity:1;z-index:200;transition:all ease-out .5s}@font-face{font-family:Material Icons;font-style:normal;font-weight:400;src:local(\"Material Icons\"),local(\"MaterialIcons-Regular\"),url(https://fonts.gstatic.com/s/materialicons/v19/2fcrYFNaTjcS6g4U3t-Y5ZjZjT5FdEJ140U2DJYC3mY.woff2) format(\"woff2\")}.material-icons{font-family:Material Icons;font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:\"liga\";-webkit-font-smoothing:antialiased}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.ImageService }, { type: i2.DomSanitizer }]; }, propDecorators: { baseImagesURL: [{
                type: Input,
                args: ['baseImagesURL']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWltYWdlLWdhbGxlcnkvc3JjL2xpYi92aWV3ZXIvdmlld2VyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLWltYWdlLWdhbGxlcnkvc3JjL2xpYi92aWV3ZXIvdmlld2VyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQTtBQUN4RCxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQTtBQUNoRCxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxNQUFNLHFCQUFxQixDQUFBO0FBQ2hGLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQTs7Ozs7QUErRnhELE1BQU0sT0FBTyxlQUFlO0lBYzFCLFlBQW9CLFlBQTBCLEVBQVUsU0FBdUI7UUFBM0QsaUJBQVksR0FBWixZQUFZLENBQWM7UUFBVSxjQUFTLEdBQVQsU0FBUyxDQUFjO1FBWi9FLFdBQU0sR0FBeUIsRUFBRSxDQUFBO1FBQ2pDLGVBQVUsR0FBVyxDQUFDLENBQUE7UUFDdEIscUJBQWdCLEdBQVksSUFBSSxDQUFBO1FBQ2hDLHNCQUFpQixHQUFZLElBQUksQ0FBQTtRQUNqQyxxQkFBZ0IsR0FBVyxhQUFhLENBQUE7UUFHaEMseUJBQW9CLEdBQVksS0FBSyxDQUFBO1FBQ3JDLG9CQUFlLEdBQVcsTUFBTSxDQUFBO1FBRWhCLGtCQUFhLEdBQUcsRUFBRSxDQUFBO1FBR3hDLFlBQVksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7WUFDL0MsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUE7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LENBQUMsQ0FDSDs0QkFDRCxLQUFLLENBQ0gsTUFBTSxFQUNOLEtBQUssQ0FBQztnQ0FDSixPQUFPLEVBQUUsQ0FBQzs2QkFDWCxDQUFDLENBQ0g7NEJBQ0QsVUFBVSxDQUFDLFdBQVcsRUFBRTtnQ0FDdEIsS0FBSyxDQUFDO29DQUNKLE9BQU8sRUFBRSxDQUFDO2lDQUNYLENBQUM7Z0NBQ0YsT0FBTyxDQUFDLGdCQUFnQixDQUFDOzZCQUMxQixDQUFDOzRCQUNGLFVBQVUsQ0FBQyxXQUFXLEVBQUU7Z0NBQ3RCLEtBQUssQ0FBQztvQ0FDSixPQUFPLEVBQUUsQ0FBQztpQ0FDWCxDQUFDO2dDQUNGLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQzs2QkFDMUIsQ0FBQzt5QkFDSCxDQUFDO3FCQUNIOzhIQWN1QixhQUFhO3NCQUFwQyxLQUFLO3VCQUFDLGVBQWUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbWFnZVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9pbWFnZS5zZXJ2aWNlJ1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSdcclxuaW1wb3J0IHsgYW5pbWF0ZSwgc3RhdGUsIHN0eWxlLCB0cmFuc2l0aW9uLCB0cmlnZ2VyIH0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucydcclxuaW1wb3J0IHsgRG9tU2FuaXRpemVyIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3NlcidcclxuaW1wb3J0IHsgSW1hZ2VNZXRhZGF0YSB9IGZyb20gJy4uL2RhdGEvaW1hZ2UtbWV0YWRhdGEnXHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ3ZpZXdlcicsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3ZpZXdlci5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vdmlld2VyLmNvbXBvbmVudC5zYXNzJ10sXHJcbiAgaG9zdDoge1xyXG4gICAgJyhkb2N1bWVudDprZXlkb3duKSc6ICdvbktleWRvd24oJGV2ZW50KScsXHJcbiAgfSxcclxuICBhbmltYXRpb25zOiBbXHJcbiAgICB0cmlnZ2VyKCdpbWFnZVRyYW5zaXRpb24nLCBbXHJcbiAgICAgIHN0YXRlKFxyXG4gICAgICAgICdlbnRlckZyb21SaWdodCcsXHJcbiAgICAgICAgc3R5bGUoe1xyXG4gICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgwcHgsIDBweCknLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICksXHJcbiAgICAgIHN0YXRlKFxyXG4gICAgICAgICdlbnRlckZyb21MZWZ0JyxcclxuICAgICAgICBzdHlsZSh7XHJcbiAgICAgICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDBweCwgMHB4KScsXHJcbiAgICAgICAgfSlcclxuICAgICAgKSxcclxuICAgICAgc3RhdGUoXHJcbiAgICAgICAgJ2xlYXZlVG9MZWZ0JyxcclxuICAgICAgICBzdHlsZSh7XHJcbiAgICAgICAgICBvcGFjaXR5OiAwLFxyXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC0xMDBweCwgMHB4KScsXHJcbiAgICAgICAgfSlcclxuICAgICAgKSxcclxuICAgICAgc3RhdGUoXHJcbiAgICAgICAgJ2xlYXZlVG9SaWdodCcsXHJcbiAgICAgICAgc3R5bGUoe1xyXG4gICAgICAgICAgb3BhY2l0eTogMCxcclxuICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgxMDBweCwgMHB4KScsXHJcbiAgICAgICAgfSlcclxuICAgICAgKSxcclxuICAgICAgdHJhbnNpdGlvbignKiA9PiBlbnRlckZyb21SaWdodCcsIFtcclxuICAgICAgICBzdHlsZSh7XHJcbiAgICAgICAgICBvcGFjaXR5OiAwLFxyXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDMwcHgsIDBweCknLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIGFuaW1hdGUoJzI1MG1zIDUwMG1zIGVhc2UtaW4nKSxcclxuICAgICAgXSksXHJcbiAgICAgIHRyYW5zaXRpb24oJyogPT4gZW50ZXJGcm9tTGVmdCcsIFtcclxuICAgICAgICBzdHlsZSh7XHJcbiAgICAgICAgICBvcGFjaXR5OiAwLFxyXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC0zMHB4LCAwcHgpJyxcclxuICAgICAgICB9KSxcclxuICAgICAgICBhbmltYXRlKCcyNTBtcyA1MDBtcyBlYXNlLWluJyksXHJcbiAgICAgIF0pLFxyXG4gICAgICB0cmFuc2l0aW9uKCcqID0+IGxlYXZlVG9MZWZ0JywgW1xyXG4gICAgICAgIHN0eWxlKHtcclxuICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgYW5pbWF0ZSgnMjUwbXMgZWFzZS1vdXQnKSxcclxuICAgICAgXSksXHJcbiAgICAgIHRyYW5zaXRpb24oJyogPT4gbGVhdmVUb1JpZ2h0JywgW1xyXG4gICAgICAgIHN0eWxlKHtcclxuICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgYW5pbWF0ZSgnMjUwbXMgZWFzZS1vdXQnKSxcclxuICAgICAgXSksXHJcbiAgICBdKSxcclxuICAgIHRyaWdnZXIoJ3Nob3dWaWV3ZXJUcmFuc2l0aW9uJywgW1xyXG4gICAgICBzdGF0ZShcclxuICAgICAgICAndHJ1ZScsXHJcbiAgICAgICAgc3R5bGUoe1xyXG4gICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICB9KVxyXG4gICAgICApLFxyXG4gICAgICBzdGF0ZShcclxuICAgICAgICAndm9pZCcsXHJcbiAgICAgICAgc3R5bGUoe1xyXG4gICAgICAgICAgb3BhY2l0eTogMCxcclxuICAgICAgICB9KVxyXG4gICAgICApLFxyXG4gICAgICB0cmFuc2l0aW9uKCd2b2lkID0+IConLCBbXHJcbiAgICAgICAgc3R5bGUoe1xyXG4gICAgICAgICAgb3BhY2l0eTogMCxcclxuICAgICAgICB9KSxcclxuICAgICAgICBhbmltYXRlKCcxMDAwbXMgZWFzZS1pbicpLFxyXG4gICAgICBdKSxcclxuICAgICAgdHJhbnNpdGlvbignKiA9PiB2b2lkJywgW1xyXG4gICAgICAgIHN0eWxlKHtcclxuICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgYW5pbWF0ZSgnNTAwbXMgZWFzZS1vdXQnKSxcclxuICAgICAgXSksXHJcbiAgICBdKSxcclxuICBdLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgVmlld2VyQ29tcG9uZW50IHtcclxuICBzaG93Vmlld2VyOiBib29sZWFuXHJcbiAgaW1hZ2VzOiBBcnJheTxJbWFnZU1ldGFkYXRhPiA9IFtdXHJcbiAgY3VycmVudElkeDogbnVtYmVyID0gMFxyXG4gIGxlZnRBcnJvd1Zpc2libGU6IGJvb2xlYW4gPSB0cnVlXHJcbiAgcmlnaHRBcnJvd1Zpc2libGU6IGJvb2xlYW4gPSB0cnVlXHJcbiAgY2F0ZWdvcnlTZWxlY3RlZDogc3RyaW5nID0gJ3ByZXZpZXdfeHhzJ1xyXG4gIHRyYW5zZm9ybTogbnVtYmVyXHJcbiAgbWF0aDogTWF0aFxyXG4gIHByaXZhdGUgcXVhbGl0eVNlbGVjdG9yU2hvd246IGJvb2xlYW4gPSBmYWxzZVxyXG4gIHByaXZhdGUgcXVhbGl0eVNlbGVjdGVkOiBzdHJpbmcgPSAnYXV0bydcclxuXHJcbiAgQElucHV0KCdiYXNlSW1hZ2VzVVJMJykgYmFzZUltYWdlc1VSTCA9ICcnXHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaW1hZ2VTZXJ2aWNlOiBJbWFnZVNlcnZpY2UsIHByaXZhdGUgc2FuaXRpemVyOiBEb21TYW5pdGl6ZXIpIHtcclxuICAgIGltYWdlU2VydmljZS5pbWFnZXNVcGRhdGVkJC5zdWJzY3JpYmUoKGltYWdlcykgPT4ge1xyXG4gICAgICB0aGlzLmltYWdlcyA9IGltYWdlc1xyXG4gICAgfSlcclxuICAgIGltYWdlU2VydmljZS5pbWFnZVNlbGVjdGVkSW5kZXhVcGRhdGVkJC5zdWJzY3JpYmUoKG5ld0luZGV4KSA9PiB7XHJcbiAgICAgIHRoaXMuY3VycmVudElkeCA9IG5ld0luZGV4XHJcbiAgICAgIHRoaXMuaW1hZ2VzLmZvckVhY2goKGltYWdlKSA9PiAoaW1hZ2VbJ2FjdGl2ZSddID0gZmFsc2UpKVxyXG4gICAgICB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWydhY3RpdmUnXSA9IHRydWVcclxuICAgICAgdGhpcy50cmFuc2Zvcm0gPSAwXHJcbiAgICAgIHRoaXMudXBkYXRlUXVhbGl0eSgpXHJcbiAgICB9KVxyXG4gICAgaW1hZ2VTZXJ2aWNlLnNob3dJbWFnZVZpZXdlckNoYW5nZWQkLnN1YnNjcmliZSgoc2hvd1ZpZXdlcikgPT4ge1xyXG4gICAgICB0aGlzLnNob3dWaWV3ZXIgPSBzaG93Vmlld2VyXHJcbiAgICB9KVxyXG4gICAgdGhpcy5tYXRoID0gTWF0aFxyXG4gIH1cclxuXHJcbiAgZ2V0IGxlZnRBcnJvd0FjdGl2ZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmN1cnJlbnRJZHggPiAwXHJcbiAgfVxyXG5cclxuICBnZXQgcmlnaHRBcnJvd0FjdGl2ZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmN1cnJlbnRJZHggPCB0aGlzLmltYWdlcy5sZW5ndGggLSAxXHJcbiAgfVxyXG5cclxuICBwYW4oc3dpcGU6IGFueSk6IHZvaWQge1xyXG4gICAgdGhpcy50cmFuc2Zvcm0gPSBzd2lwZS5kZWx0YVhcclxuICB9XHJcblxyXG4gIG9uUmVzaXplKCk6IHZvaWQge1xyXG4gICAgdGhpcy5pbWFnZXMuZm9yRWFjaCgoaW1hZ2UpID0+IHtcclxuICAgICAgaW1hZ2VbJ3ZpZXdlckltYWdlTG9hZGVkJ10gPSBmYWxzZVxyXG4gICAgICBpbWFnZVsnYWN0aXZlJ10gPSBmYWxzZVxyXG4gICAgfSlcclxuICAgIHRoaXMudXBkYXRlSW1hZ2UoKVxyXG4gIH1cclxuXHJcbiAgc2hvd1F1YWxpdHlTZWxlY3RvcigpOiB2b2lkIHtcclxuICAgIHRoaXMucXVhbGl0eVNlbGVjdG9yU2hvd24gPSAhdGhpcy5xdWFsaXR5U2VsZWN0b3JTaG93blxyXG4gIH1cclxuXHJcbiAgcXVhbGl0eUNoYW5nZWQobmV3UXVhbGl0eTogYW55KTogdm9pZCB7XHJcbiAgICB0aGlzLnF1YWxpdHlTZWxlY3RlZCA9IG5ld1F1YWxpdHlcclxuICAgIHRoaXMudXBkYXRlSW1hZ2UoKVxyXG4gIH1cclxuXHJcbiAgaW1hZ2VMb2FkZWQoaW1hZ2U6IGFueSk6IHZvaWQge1xyXG4gICAgaW1hZ2VbJ3ZpZXdlckltYWdlTG9hZGVkJ10gPSB0cnVlXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBkaXJlY3Rpb24gKC0xOiBsZWZ0LCAxOiByaWdodClcclxuICAgKiBzd2lwZSAodXNlciBzd2lwZWQpXHJcbiAgICovXHJcbiAgbmF2aWdhdGUoZGlyZWN0aW9uOiBudW1iZXIsIHN3aXBlOiBhbnkpOiB2b2lkIHtcclxuICAgIGlmICgoZGlyZWN0aW9uID09PSAxICYmIHRoaXMuY3VycmVudElkeCA8IHRoaXMuaW1hZ2VzLmxlbmd0aCAtIDEpIHx8IChkaXJlY3Rpb24gPT09IC0xICYmIHRoaXMuY3VycmVudElkeCA+IDApKSB7XHJcbiAgICAgIGlmIChkaXJlY3Rpb24gPT0gLTEpIHtcclxuICAgICAgICB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWyd0cmFuc2l0aW9uJ10gPSAnbGVhdmVUb1JpZ2h0J1xyXG4gICAgICAgIHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeCAtIDFdWyd0cmFuc2l0aW9uJ10gPSAnZW50ZXJGcm9tTGVmdCdcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWyd0cmFuc2l0aW9uJ10gPSAnbGVhdmVUb0xlZnQnXHJcbiAgICAgICAgdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4ICsgMV1bJ3RyYW5zaXRpb24nXSA9ICdlbnRlckZyb21SaWdodCdcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmN1cnJlbnRJZHggKz0gZGlyZWN0aW9uXHJcblxyXG4gICAgICBpZiAoc3dpcGUpIHtcclxuICAgICAgICB0aGlzLmhpZGVOYXZpZ2F0aW9uQXJyb3dzKClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnNob3dOYXZpZ2F0aW9uQXJyb3dzKClcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnVwZGF0ZUltYWdlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNob3dOYXZpZ2F0aW9uQXJyb3dzKCk6IHZvaWQge1xyXG4gICAgdGhpcy5sZWZ0QXJyb3dWaXNpYmxlID0gdHJ1ZVxyXG4gICAgdGhpcy5yaWdodEFycm93VmlzaWJsZSA9IHRydWVcclxuICB9XHJcblxyXG4gIGNsb3NlVmlld2VyKCk6IHZvaWQge1xyXG4gICAgdGhpcy5pbWFnZXMuZm9yRWFjaCgoaW1hZ2UpID0+IChpbWFnZVsndHJhbnNpdGlvbiddID0gdW5kZWZpbmVkKSlcclxuICAgIHRoaXMuaW1hZ2VzLmZvckVhY2goKGltYWdlKSA9PiAoaW1hZ2VbJ2FjdGl2ZSddID0gZmFsc2UpKVxyXG4gICAgdGhpcy5pbWFnZVNlcnZpY2Uuc2hvd0ltYWdlVmlld2VyKGZhbHNlKVxyXG4gIH1cclxuXHJcbiAgb25LZXlkb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICBjb25zdCBwcmV2ZW50ID0gWzM3LCAzOSwgMjcsIDM2LCAzNV0uZmluZCgobm8pID0+IG5vID09PSBldmVudC5rZXlDb2RlKVxyXG4gICAgaWYgKHByZXZlbnQpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gICAgfVxyXG5cclxuICAgIHN3aXRjaCAocHJldmVudCkge1xyXG4gICAgICBjYXNlIDM3OlxyXG4gICAgICAgIC8vIG5hdmlnYXRlIGxlZnRcclxuICAgICAgICB0aGlzLm5hdmlnYXRlKC0xLCBmYWxzZSlcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIDM5OlxyXG4gICAgICAgIC8vIG5hdmlnYXRlIHJpZ2h0XHJcbiAgICAgICAgdGhpcy5uYXZpZ2F0ZSgxLCBmYWxzZSlcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIDI3OlxyXG4gICAgICAgIC8vIGVzY1xyXG4gICAgICAgIHRoaXMuY2xvc2VWaWV3ZXIoKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgMzY6XHJcbiAgICAgICAgLy8gcG9zIDFcclxuICAgICAgICB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWyd0cmFuc2l0aW9uJ10gPSAnbGVhdmVUb1JpZ2h0J1xyXG4gICAgICAgIHRoaXMuY3VycmVudElkeCA9IDBcclxuICAgICAgICB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWyd0cmFuc2l0aW9uJ10gPSAnZW50ZXJGcm9tTGVmdCdcclxuICAgICAgICB0aGlzLnVwZGF0ZUltYWdlKClcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIDM1OlxyXG4gICAgICAgIC8vIGVuZFxyXG4gICAgICAgIHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeF1bJ3RyYW5zaXRpb24nXSA9ICdsZWF2ZVRvTGVmdCdcclxuICAgICAgICB0aGlzLmN1cnJlbnRJZHggPSB0aGlzLmltYWdlcy5sZW5ndGggLSAxXHJcbiAgICAgICAgdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XVsndHJhbnNpdGlvbiddID0gJ2VudGVyRnJvbVJpZ2h0J1xyXG4gICAgICAgIHRoaXMudXBkYXRlSW1hZ2UoKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgYnJlYWtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNhbml0aXplZEltYWdlVXJsKGltZzogYW55LCBpbmRleDogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdFN0eWxlKHRoaXMucmF3SW1hZ2VVcmwoaW1nLCBpbmRleCkpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJhd0ltYWdlVXJsKGltZzogYW55LCBpbmRleDogbnVtYmVyKSB7XHJcbiAgICBpZiAoaW1nWyd2aWV3ZXJJbWFnZUxvYWRlZCddKSB7XHJcbiAgICAgIHJldHVybiBgdXJsKCcke3RoaXMuYmFzZUltYWdlc1VSTH0ke2ltZy5yZXNvbHV0aW9uc1t0aGlzLmNhdGVnb3J5U2VsZWN0ZWRdLnBhdGh9JylgXHJcbiAgICB9IGVsc2UgaWYgKE1hdGguYWJzKHRoaXMuY3VycmVudElkeCAtIGluZGV4KSA8PSAxKSB7XHJcbiAgICAgIHJldHVybiBgdXJsKCcke3RoaXMuYmFzZUltYWdlc1VSTH0ke2ltZy5yZXNvbHV0aW9uc1sncHJldmlld194eHMnXS5wYXRofScpYFxyXG4gICAgfVxyXG4gICAgcmV0dXJuICcnXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhpZGVOYXZpZ2F0aW9uQXJyb3dzKCk6IHZvaWQge1xyXG4gICAgdGhpcy5sZWZ0QXJyb3dWaXNpYmxlID0gZmFsc2VcclxuICAgIHRoaXMucmlnaHRBcnJvd1Zpc2libGUgPSBmYWxzZVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVJbWFnZSgpOiB2b2lkIHtcclxuICAgIC8vIHdhaXQgZm9yIGFuaW1hdGlvbiB0byBlbmRcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLnVwZGF0ZVF1YWxpdHkoKVxyXG4gICAgICB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWydhY3RpdmUnXSA9IHRydWVcclxuICAgICAgdGhpcy5pbWFnZXMuZm9yRWFjaCgoaW1hZ2UpID0+IHtcclxuICAgICAgICBpZiAoaW1hZ2UgIT0gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XSkge1xyXG4gICAgICAgICAgaW1hZ2VbJ2FjdGl2ZSddID0gZmFsc2VcclxuICAgICAgICAgIHRoaXMudHJhbnNmb3JtID0gMFxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH0sIDUwMClcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlUXVhbGl0eSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IHNjcmVlbldpZHRoID0gd2luZG93LmlubmVyV2lkdGhcclxuICAgIGNvbnN0IHNjcmVlbkhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodFxyXG5cclxuICAgIHN3aXRjaCAodGhpcy5xdWFsaXR5U2VsZWN0ZWQpIHtcclxuICAgICAgY2FzZSAnYXV0byc6IHtcclxuICAgICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQgPSAncHJldmlld194eHMnXHJcblxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHNjcmVlbldpZHRoID4gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XS5yZXNvbHV0aW9uc1sncHJldmlld194eHMnXS53aWR0aCAmJlxyXG4gICAgICAgICAgc2NyZWVuSGVpZ2h0ID4gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XS5yZXNvbHV0aW9uc1sncHJldmlld194eHMnXS5oZWlnaHRcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHRoaXMuY2F0ZWdvcnlTZWxlY3RlZCA9ICdwcmV2aWV3X3hzJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBzY3JlZW5XaWR0aCA+IHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeF0ucmVzb2x1dGlvbnNbJ3ByZXZpZXdfeHMnXS53aWR0aCAmJlxyXG4gICAgICAgICAgc2NyZWVuSGVpZ2h0ID4gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XS5yZXNvbHV0aW9uc1sncHJldmlld194cyddLmhlaWdodFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkID0gJ3ByZXZpZXdfcydcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgc2NyZWVuV2lkdGggPiB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdLnJlc29sdXRpb25zWydwcmV2aWV3X3MnXS53aWR0aCAmJlxyXG4gICAgICAgICAgc2NyZWVuSGVpZ2h0ID4gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XS5yZXNvbHV0aW9uc1sncHJldmlld19zJ10uaGVpZ2h0XHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQgPSAncHJldmlld19tJ1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBzY3JlZW5XaWR0aCA+IHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeF0ucmVzb2x1dGlvbnNbJ3ByZXZpZXdfbSddLndpZHRoICYmXHJcbiAgICAgICAgICBzY3JlZW5IZWlnaHQgPiB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdLnJlc29sdXRpb25zWydwcmV2aWV3X20nXS5oZWlnaHRcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHRoaXMuY2F0ZWdvcnlTZWxlY3RlZCA9ICdwcmV2aWV3X2wnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHNjcmVlbldpZHRoID4gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XS5yZXNvbHV0aW9uc1sncHJldmlld19sJ10ud2lkdGggJiZcclxuICAgICAgICAgIHNjcmVlbkhlaWdodCA+IHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeF0ucmVzb2x1dGlvbnNbJ3ByZXZpZXdfbCddLmhlaWdodFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkID0gJ3ByZXZpZXdfeGwnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgIHNjcmVlbldpZHRoID4gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XS5yZXNvbHV0aW9uc1sncHJldmlld194bCddLndpZHRoICYmXHJcbiAgICAgICAgICBzY3JlZW5IZWlnaHQgPiB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdLnJlc29sdXRpb25zWydwcmV2aWV3X3hsJ10uaGVpZ2h0XHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQgPSAncmF3J1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVha1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgJ2xvdyc6IHtcclxuICAgICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQgPSAncHJldmlld194eHMnXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgfVxyXG4gICAgICBjYXNlICdtaWQnOiB7XHJcbiAgICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkID0gJ3ByZXZpZXdfbSdcclxuICAgICAgICBicmVha1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgJ2hpZ2gnOiB7XHJcbiAgICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkID0gJ3JhdydcclxuICAgICAgICBicmVha1xyXG4gICAgICB9XHJcbiAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQgPSAncHJldmlld19tJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIjxkaXZcclxuICBjbGFzcz1cIm91dGVyQ29udGFpbmVyXCJcclxuICAod2luZG93OnJlc2l6ZSk9XCJvblJlc2l6ZSgpXCJcclxuICAqbmdJZj1cInNob3dWaWV3ZXJcIlxyXG4gIFtAc2hvd1ZpZXdlclRyYW5zaXRpb25dPVwic2hvd1ZpZXdlclwiPlxyXG4gIDxpbWdcclxuICAgIFtuZ0NsYXNzXT1cInsgYWN0aXZlQXJyb3c6IGxlZnRBcnJvd0FjdGl2ZSB9XCJcclxuICAgIGNsYXNzPVwiYXJyb3cgbGVmdFwiXHJcbiAgICBzcmM9XCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUJvWldsbmFIUTlJakkwY0hnaUlIWmxjbk5wYjI0OUlqRXVNU0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWlCM2FXUjBhRDBpTWpSd2VDSWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3pwemEyVjBZMmc5SW1oMGRIQTZMeTkzZDNjdVltOW9aVzFwWVc1amIyUnBibWN1WTI5dEwzTnJaWFJqYUM5dWN5SWdlRzFzYm5NNmVHeHBibXM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZlR3hwYm1zaVBqeDBhWFJzWlM4K1BHUmxjMk12UGlBZ0lEeG5JR1pwYkd3OUltNXZibVVpSUdacGJHd3RjblZzWlQwaVpYWmxibTlrWkNJZ2FXUTlJbTFwZFNJZ2MzUnliMnRsUFNJak5UVTFJaUJ6ZEhKdmEyVXRkMmxrZEdnOUlqQXVNaUkrSUNBZ0lDQThaeUJwWkQwaVFYSjBZbTloY21RdE1TSWdkSEpoYm5ObWIzSnRQU0owY21GdWMyeGhkR1VvTFRNNU5TNHdNREF3TURBc0lDMHhPVEV1TURBd01EQXdLU0krUEdjZ2FXUTlJbk5zYVdObElpQjBjbUZ1YzJadmNtMDlJblJ5WVc1emJHRjBaU2d5TVRVdU1EQXdNREF3TENBeE1Ua3VNREF3TURBd0tTSXZQanh3WVhSb0lDQWdJQ0FnSUdROUlrMHpPVFlzTWpBeUxqVWdRek01Tml3eE9UWXVNVFE0TnpJMUlEUXdNUzR4TkRnM01qVXNNVGt4SURRd055NDFMREU1TVNCRE5ERXpMamcxTVRJM05Td3hPVEVnTkRFNUxERTVOaTR4TkRnM01qVWdOREU1TERJd01pNDFJRU0wTVRrc01qQTRMamcxTVRJM05TQTBNVE11T0RVeE1qYzFMREl4TkNBME1EY3VOU3d5TVRRZ1F6UXdNUzR4TkRnM01qVXNNakUwSURNNU5pd3lNRGd1T0RVeE1qYzFJRE01Tml3eU1ESXVOU0JhSUUwME1EZ3VOalUyT0RVMExERTVOaTQ0TkRNeE5EWWdURFF4TUM0d056RXdOamdzTVRrNExqSTFOek0xT1NCTU5EQTFMamd5T0RReU55d3lNREl1TlNCTU5ERXdMakEzTVRBMk9Dd3lNRFl1TnpReU5qUXhJRXcwTURndU5qVTJPRFUwTERJd09DNHhOVFk0TlRRZ1REUXdNeXd5TURJdU5TQk1OREE0TGpZMU5qZzFOQ3d4T1RZdU9EUXpNVFEySUZvaUlDQWdJQ0FnSUdacGJHdzlJaU5oWVdFaUlDQWdJQ0FnSUdsa1BTSmphWEpqYkdVdFltRmpheTFoY25KdmR5MW5iSGx3YUNJdlBqd3ZaejRnSUNBOEwyYytJRHd2YzNablBnPT1cIlxyXG4gICAgW2hpZGRlbl09XCIhbGVmdEFycm93VmlzaWJsZVwiXHJcbiAgICAoY2xpY2spPVwibmF2aWdhdGUoLTEsIGZhbHNlKVwiIC8+XHJcbiAgPGltZ1xyXG4gICAgW25nQ2xhc3NdPVwieyBhY3RpdmVBcnJvdzogcmlnaHRBcnJvd0FjdGl2ZSB9XCJcclxuICAgIGNsYXNzPVwiYXJyb3cgcmlnaHRcIlxyXG4gICAgc3JjPVwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCb1pXbG5hSFE5SWpJMGNIZ2lJSFpsY25OcGIyNDlJakV1TVNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElpQjNhV1IwYUQwaU1qUndlQ0lnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JaUI0Yld4dWN6cHphMlYwWTJnOUltaDBkSEE2THk5M2QzY3VZbTlvWlcxcFlXNWpiMlJwYm1jdVkyOXRMM05yWlhSamFDOXVjeUlnZUcxc2JuTTZlR3hwYm1zOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2ZUd4cGJtc2lQangwYVhSc1pTOCtQR1JsYzJNdlBqeGtaV1p6THo0Z0lDQThaeUJtYVd4c1BTSnViMjVsSWlCbWFXeHNMWEoxYkdVOUltVjJaVzV2WkdRaUlHbGtQU0p0YVhVaUlITjBjbTlyWlQwaUl6VTFOU0lnYzNSeWIydGxMWGRwWkhSb1BTSXdMaklpUGlBZ0lDQWdQR2NnYVdROUlrRnlkR0p2WVhKa0xURWlJSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0MwME5qY3VNREF3TURBd0xDQXRNVGt4TGpBd01EQXdNQ2tpUGp4bklHbGtQU0p6YkdsalpTSWdkSEpoYm5ObWIzSnRQU0owY21GdWMyeGhkR1VvTWpFMUxqQXdNREF3TUN3Z01URTVMakF3TURBd01Da2lMejQ4Y0dGMGFDQWdJQ0FnSUNCa1BTSk5ORFk0TERJd01pNDFJRU0wTmpnc01UazJMakUwT0RjeU5TQTBOek11TVRRNE56STFMREU1TVNBME56a3VOU3d4T1RFZ1F6UTROUzQ0TlRFeU56VXNNVGt4SURRNU1Td3hPVFl1TVRRNE56STFJRFE1TVN3eU1ESXVOU0JETkRreExESXdPQzQ0TlRFeU56VWdORGcxTGpnMU1USTNOU3d5TVRRZ05EYzVMalVzTWpFMElFTTBOek11TVRRNE56STFMREl4TkNBME5qZ3NNakE0TGpnMU1USTNOU0EwTmpnc01qQXlMalVnV2lCTk5EZ3dMalkxTmpnMU5Dd3hPVFl1T0RRek1UUTJJRXcwT0RJdU1EY3hNRFk0TERFNU9DNHlOVGN6TlRrZ1REUTNOeTQ0TWpnME1qY3NNakF5TGpVZ1REUTRNaTR3TnpFd05qZ3NNakEyTGpjME1qWTBNU0JNTkRnd0xqWTFOamcxTkN3eU1EZ3VNVFUyT0RVMElFdzBOelVzTWpBeUxqVWdURFE0TUM0Mk5UWTROVFFzTVRrMkxqZzBNekUwTmlCYUlpQWdJQ0FnSUNCbWFXeHNQU0lqWVdGaElpQWdJQ0FnSUNCcFpEMGlZMmx5WTJ4bExXNWxlSFF0WVhKeWIzY3RaR2x6WTJ4dmMzVnlaUzFuYkhsd2FDSWdJQ0FnSUNBZ2RISmhibk5tYjNKdFBTSjBjbUZ1YzJ4aGRHVW9ORGM1TGpVd01EQXdNQ3dnTWpBeUxqVXdNREF3TUNrZ2MyTmhiR1VvTFRFc0lERXBJSFJ5WVc1emJHRjBaU2d0TkRjNUxqVXdNREF3TUN3Z0xUSXdNaTQxTURBd01EQXBJQ0l2UGp3dlp6NGdJQ0E4TDJjK0lEd3ZjM1puUGc9PVwiXHJcbiAgICBbaGlkZGVuXT1cIiFyaWdodEFycm93VmlzaWJsZVwiXHJcbiAgICAoY2xpY2spPVwibmF2aWdhdGUoMSwgZmFsc2UpXCIgLz5cclxuXHJcbiAgPGRpdiBjbGFzcz1cImJ1dHRvbkNvbnRhaW5lclwiPlxyXG4gICAgPGltZ1xyXG4gICAgICBjbGFzcz1cImFjdGlvbiBjbG9zZVwiXHJcbiAgICAgIHNyYz1cImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5Qm9aV2xuYUhROUlqTXdjSGdpSUdsa1BTSk1ZWGxsY2w4eElpQnpkSGxzWlQwaVpXNWhZbXhsTFdKaFkydG5jbTkxYm1RNmJtVjNJREFnTUNBMU1USWdOVEV5T3lJZ2RtVnljMmx2YmowaU1TNHhJaUJtYVd4c1BTSWpZV0ZoSWlCMmFXVjNRbTk0UFNJd0lEQWdOVEV5SURVeE1pSWdkMmxrZEdnOUlqSTBjSGdpSUhodGJEcHpjR0ZqWlQwaWNISmxjMlZ5ZG1VaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpUGlBZ1BIQmhkR2dnSUNBZ2MzUnliMnRsTFhkcFpIUm9QU0l6TUNJZ2MzUnliMnRsUFNJak5EUTBJaUFnSUNCa1BTSk5ORE0zTGpVc016ZzJMalpNTXpBMkxqa3NNalUyYkRFek1DNDJMVEV6TUM0Mll6RTBMakV0TVRRdU1Td3hOQzR4TFRNMkxqZ3NNQzAxTUM0NVl5MHhOQzR4TFRFMExqRXRNell1T0MweE5DNHhMVFV3TGprc01Fd3lOVFlzTWpBMUxqRk1NVEkxTGpRc056UXVOU0FnWXkweE5DNHhMVEUwTGpFdE16WXVPQzB4TkM0eExUVXdMamtzTUdNdE1UUXVNU3d4TkM0eExURTBMakVzTXpZdU9Dd3dMRFV3TGpsTU1qQTFMakVzTWpVMlREYzBMalVzTXpnMkxqWmpMVEUwTGpFc01UUXVNUzB4TkM0eExETTJMamdzTUN3MU1DNDVJQ0JqTVRRdU1Td3hOQzR4TERNMkxqZ3NNVFF1TVN3MU1DNDVMREJNTWpVMkxETXdOaTQ1YkRFek1DNDJMREV6TUM0Mll6RTBMakVzTVRRdU1Td3pOaTQ0TERFMExqRXNOVEF1T1N3d1F6UTFNUzQxTERReU15NDBMRFExTVM0MUxEUXdNQzQyTERRek55NDFMRE00Tmk0MmVpSXZQand2YzNablBnPT1cIlxyXG4gICAgICAoY2xpY2spPVwiY2xvc2VWaWV3ZXIoKVwiIC8+XHJcbiAgPC9kaXY+XHJcblxyXG4gIDxkaXZcclxuICAgIGNsYXNzPVwiaW1hZ2VDb250YWluZXJcIlxyXG4gICAgKGNsaWNrKT1cInNob3dOYXZpZ2F0aW9uQXJyb3dzKClcIlxyXG4gICAgKHN3aXBlbGVmdCk9XCJuYXZpZ2F0ZSgxLCAkZXZlbnQpXCJcclxuICAgIChzd2lwZXJpZ2h0KT1cIm5hdmlnYXRlKC0xLCAkZXZlbnQpXCJcclxuICAgIChwYW4pPVwicGFuKCRldmVudClcIj5cclxuICAgIDxkaXZcclxuICAgICAgKm5nRm9yPVwibGV0IGltZyBvZiBpbWFnZXM7IGxldCBqID0gaW5kZXhcIlxyXG4gICAgICBjbGFzcz1cImltYWdlXCJcclxuICAgICAgW2NsYXNzLmFjdGl2ZV09XCJpbWdbJ2FjdGl2ZSddXCJcclxuICAgICAgW3N0eWxlLmJhY2tncm91bmQtaW1hZ2VdPVwic2FuaXRpemVkSW1hZ2VVcmwoaW1nLCBqKVwiXHJcbiAgICAgIFtzdHlsZS5sZWZ0XT1cInRyYW5zZm9ybSArICdweCdcIlxyXG4gICAgICBbQGltYWdlVHJhbnNpdGlvbl09XCJpbWdbJ3RyYW5zaXRpb24nXVwiPjwvZGl2PlxyXG5cclxuICAgIDxpbWdcclxuICAgICAgKm5nRm9yPVwibGV0IGltZyBvZiBpbWFnZXM7IGxldCBqID0gaW5kZXhcIlxyXG4gICAgICBjbGFzcz1cInByZWxvYWRpbmctaW1hZ2VcIlxyXG4gICAgICAobG9hZCk9XCJpbWFnZUxvYWRlZChpbWcpXCJcclxuICAgICAgc3JjPVwie3sgbWF0aC5hYnMoY3VycmVudElkeCAtIGopIDw9IDEgPyBpbWdbJ3Jlc29sdXRpb25zJ11bY2F0ZWdvcnlTZWxlY3RlZF1bJ3BhdGgnXSA6ICcnIH19XCIgLz5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbiJdfQ==